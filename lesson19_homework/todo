Домашнее задание
Storage policy и резервное копирование

Цель:
Разобраться с возможностями бекапирования в ClickHouse


Описание/Пошаговая инструкция выполнения домашнего задания:
Кратко - добавить холодный уровень хранения; добавить резервное копирование на s3, испортить данные, восстановить из резервной копии.



Развернуть S3 на базе open-source MinIO/Ceph или воспользуйтесь Object Storage от Yandex Cloud
Установить clickhouse-backup и выполнить настройки storage policy в конфигурационных файлах БД
Создать тестовую БД, в ней несколько тестовых таблиц и наполнить их данными
Произвести бекапирование на удаленный ресурс (s3)
"Испортить" данные в текущем инстансе ClickHouse - удалить таблицу, изменить строку и пр.
Произвести восстановление из резервной копии
Убедиться, что "испорченные" данные успешно восстановлены
