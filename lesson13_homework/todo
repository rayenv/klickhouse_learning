Домашнее задание
.Проекции и материализованные представления

Цель:
Понять, как работают проекции и материализованные представления в ClickHouse.
Научиться создавать и использовать их для оптимизации запросов.


Описание/Пошаговая инструкция выполнения домашнего задания:
Создание таблицы:

Создайте таблицу sales с полями:
id (UInt32) — уникальный идентификатор продажи
product_id (UInt32) — идентификатор продукта
quantity (UInt32) — количество проданных единиц
price (Float32) — цена за единицу
sale_date (DateTime) — дата продажи
Заполните таблицу тестовыми данными.
Создание проекции:

Создайте проекцию для таблицы sales, которая будет агрегировать данные по product_id и считать общую сумму продаж (количество и сумма по цене) за каждый продукт.
Создание материализованного представления:

Создайте материализованное представление sales_mv, которое будет автоматически обновляться при вставке новых данных в таблицу sales. Оно должно хранить общие продажи по продуктам с полями:
product_id
total_quantity
total_sales
Запросы к данным:

Напишите запрос, который извлекает данные из проекции sales_projection.
Напишите запрос, который извлекает данные из материализованного представления sales_mv.
Сравнение производительности:

Сравните время выполнения запроса к основной таблице sales с запросом к проекции sales_projection и материализованному представлению sales_mv. Обратите внимание на разницу в производительности.


Дополнительные задания (по желанию):
Исследуйте, как изменения в основной таблице влияют на проекции и материализованные представления.
Попробуйте использовать разные агрегатные функции в проекциях и представлениях.

Критерии оценки:
По завершении задания студент будет иметь базовое понимание работы проекций и материализованных представлений в ClickHouse, а также практические навыки их создания и использования.
Работа считается зачтенной при верном выполнении всех 5 обязательных пунктов